<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="æ¢è®¨Javaæ³›å‹é€šé…ç¬¦çš„ä½¿ç”¨æŠ€å·§ï¼Œä»¥åŠæ‰©å±•å­—æ®µçš„æœ€ä½³å®è·µï¼Œé€šè¿‡æ³›å‹è§£å†³Mapç±»å‹è½¬æ¢é—®é¢˜ã€‚"/>




  <meta name="keywords" content="Java," />





  <link rel="alternate" href="/atom.xml" title="ç‹æ˜Ÿæ˜Ÿçš„é­”ç¯" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://wxxlamp.cn/2023/08/03/generic-and-ext/"/>


<meta name="description" content="æ¢è®¨Javaæ³›å‹é€šé…ç¬¦çš„ä½¿ç”¨æŠ€å·§ï¼Œä»¥åŠæ‰©å±•å­—æ®µçš„æœ€ä½³å®è·µï¼Œé€šè¿‡æ³›å‹è§£å†³Mapç±»å‹è½¬æ¢é—®é¢˜ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="æ³›å‹é€šé…ç¬¦å’Œæ‰©å±•å­—æ®µ">
<meta property="og:url" content="https://wxxlamp.cn/2023/08/03/generic-and-ext/index.html">
<meta property="og:site_name" content="ç‹æ˜Ÿæ˜Ÿçš„é­”ç¯">
<meta property="og:description" content="æ¢è®¨Javaæ³›å‹é€šé…ç¬¦çš„ä½¿ç”¨æŠ€å·§ï¼Œä»¥åŠæ‰©å±•å­—æ®µçš„æœ€ä½³å®è·µï¼Œé€šè¿‡æ³›å‹è§£å†³Mapç±»å‹è½¬æ¢é—®é¢˜ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-08-03T16:00:00.000Z">
<meta property="article:modified_time" content="2026-02-25T13:04:14.853Z">
<meta property="article:author" content="Wxx">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />

<link href='https://cdn.jsdelivr.net/npm/@chinese-fonts/syst/dist/SmileySans-Oblique/result.css' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> æ³›å‹é€šé…ç¬¦å’Œæ‰©å±•å­—æ®µ - ç‹æ˜Ÿæ˜Ÿçš„é­”ç¯ </title>
  <meta name="generator" content="Hexo 8.1.1"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">ç‹æ˜Ÿæ˜Ÿçš„é­”ç¯</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/resume">
                            
                            
                                Resume
                            
                        </a>
                    </li>
                
                <li class="menu-item">
                    <a href="/atom.xml">RSS</a>
                </li>
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          æ³›å‹é€šé…ç¬¦å’Œæ‰©å±•å­—æ®µ
        
      </h1>

      <time class="post-time">
          8æœˆ 04 2023
      </time>
    </header>



    
            <div class="post-content">
            <h1 id="1-é—®é¢˜å¼•å‡º"><a href="#1-é—®é¢˜å¼•å‡º" class="headerlink" title="1. é—®é¢˜å¼•å‡º"></a>1. é—®é¢˜å¼•å‡º</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuotaInfoView</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***</span></span><br><span class="line"><span class="comment">     * é¢å¤–ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Map extra;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addExtraMap</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (extra == <span class="literal">null</span>) &#123;</span><br><span class="line">            extra = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        extra.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addExtraMap</span><span class="params">(Map map)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (MapUtils.isEmpty(map)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (extra == <span class="literal">null</span>) &#123;</span><br><span class="line">            extra = Maps.newHashMapWithExpectedSize(map.size());</span><br><span class="line">        &#125;</span><br><span class="line">        extra.putAll(map);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå®¢æˆ·ç«¯æƒ³è¦ä½¿ç”¨å¦‚ä¸‹æ–¹å¼è°ƒç”¨çš„è¯ï¼Œåˆ™ä¼šç¼–è¯‘å¤±è´¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    quotaInfoView.addExtraMap(map); </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="2-å·§ç”¨æ³›å‹é€šé…ç¬¦è§£å†³"><a href="#2-å·§ç”¨æ³›å‹é€šé…ç¬¦è§£å†³" class="headerlink" title="2. å·§ç”¨æ³›å‹é€šé…ç¬¦è§£å†³"></a>2. å·§ç”¨æ³›å‹é€šé…ç¬¦è§£å†³</h1><p>é‚£ä¹ˆå¯¹äºä»¥ä¸Šçš„é—®é¢˜æˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ä¸‰ç§æ³›å‹æ–¹å¼æ¥è§£å†³</p>
<h2 id="å°è¯•ä¸€"><a href="#å°è¯•ä¸€" class="headerlink" title="å°è¯•ä¸€"></a>å°è¯•ä¸€</h2><p>åªè¦æ˜¯StringåŠå…¶çˆ¶ç±»éƒ½å¯ä»¥æ”¾è¿›æ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addExtraMap</span><span class="params">(Map map)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (MapUtils.isEmpty(map)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (extra == <span class="literal">null</span>) &#123;</span><br><span class="line">        extra = Maps.newHashMapWithExpectedSize(map.size());</span><br><span class="line">    &#125;</span><br><span class="line">    extra.putAll(map);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¯¹äºè¿™ç§å½¢å¼ï¼Œå¦‚æœæˆ‘ä½¿ç”¨å¦‚ä¸‹çš„å†™æ³•ï¼Œä»ç„¶ä¼šç¼–è¯‘å¤±è´¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    quotaInfoView.addExtraMap(map); </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å°è¯•äºŒ"><a href="#å°è¯•äºŒ" class="headerlink" title="å°è¯•äºŒ"></a>å°è¯•äºŒ</h2><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹Stringå’ŒIntegerçš„é€šç”¨çˆ¶ç±»æ˜¯è°ï¼Œé‚£ä¸€å®šæ˜¯objectäº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addExtraMap</span><span class="params">(Map map)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (MapUtils.isEmpty(map)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (extra == <span class="literal">null</span>) &#123;</span><br><span class="line">        extra = Maps.newHashMapWithExpectedSize(map.size());</span><br><span class="line">    &#125;</span><br><span class="line">    extra.putAll(map);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼è¿˜å¯ä»¥å†ç®€åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addExtraMap</span><span class="params">(Map map)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (MapUtils.isEmpty(map)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (extra == <span class="literal">null</span>) &#123;</span><br><span class="line">        extra = Maps.newHashMapWithExpectedSize(map.size());</span><br><span class="line">    &#125;</span><br><span class="line">    extra.putAll(map);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><p>[EffectiveJava]è¯»ä¹¦ç¬”è®°</p>
<h1 id="3-æ‰©å±•å­—æ®µçš„æ¨èå†™æ³•"><a href="#3-æ‰©å±•å­—æ®µçš„æ¨èå†™æ³•" class="headerlink" title="3. æ‰©å±•å­—æ®µçš„æ¨èå†™æ³•"></a>3. æ‰©å±•å­—æ®µçš„æ¨èå†™æ³•</h1><p>å¤§å®¶éƒ½ç‰¹åˆ«å–œæ¬¢ç”¨æ‰©å±•å­—æ®µï¼Œä½†æ˜¯å¼€å‘æ²¡æœ‰é“¶å¼¹ï¼Œæ‰©å±•å­—æ®µç”¨æ—¶ä¸€æ—¶çˆ½ï¼Œç»´æŠ¤ç«è‘¬åœºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯ç±»å‹å¼ºè½¬æŠ›å‡ºNPEç­‰ï¼Œä¸€ä¸ªæ˜¯ä¸çŸ¥é“æ‰©å±•å­—æ®µé‡Œé¢ç©¶ç«Ÿæ”¾çš„ä»€ä¹ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœa=nullï¼Œåˆ™æŠ›å‡ºnpe</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> (<span class="type">long</span>)model.getExt(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½åœ¨ä½¿ç”¨æ‰©å±•å­—æ®µçš„åŒæ—¶ï¼Œä¹Ÿé™ä½æˆ‘ä»¬çš„ç»´æŠ¤æˆæœ¬å‘¢ï¼Ÿç¬”è€…æ¨èä¸€ç§å¤„ç†æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendInfoKey</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String key;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * class</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Class clazz;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ExtendInfoKey</span><span class="params">(String key, Class clazz)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.key = key;</span><br><span class="line">        <span class="built_in">this</span>.clazz = clazz;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getKey</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Class <span class="title function_">getClazz</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> clazz;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendInfoUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  T <span class="title function_">getExtendValue</span><span class="params">(ExtendInfoKey key, Map attrs)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (MapUtils.isEmpty(attrs)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> attrs.get(key.getKey());</span><br><span class="line">        <span class="keyword">return</span> JSON.parseObject(value, key.getClazz());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title function_">addExtendInfo</span><span class="params">(ExtendInfoKey key, T value, Map attrs)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (Objects.isNull(attrs)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;attrs can not be null&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (value != <span class="literal">null</span>) &#123;</span><br><span class="line">            attrs.put(key.getKey(), JSON.toJSONString(value));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/Java/">Java</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2023/12/31/hello-world/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Hello World</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2023/07/08/how-to-process-hot-data/">
        <span class="next-text nav-default">å¦‚ä½•å¤„ç†çƒ­ç‚¹æ•°æ®é—®é¢˜</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
    

<div class="github-comments">
  <div class="comments-title">ğŸ’¬ Comments</div>
  <p style="color: #666; font-size: 0.9em; margin-bottom: 1em;">
    Comments require <a href="https://github.com/apps/giscus" target="_blank" rel="noopener">Giscus App</a> installed on your GitHub repository.
  </p>
  <script src="https://giscus.app/client.js"
    data-repo="wxxlamp/wxxlamp.github.io"
    data-repo-id="R_kgDOCiYteA"
    data-category="General"
    data-category-id="DIC_kwDOCiYteM4CelIo"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
</div>



    
  </div>


      </footer>
    
  </article>

    </div>
    

<div class="toc-container" id="toc-container">
  <div class="toc-title">Contents</div>
  <ul class="toc-list" id="toc-list">
    
  </ul>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Generate TOC from post content
  const content = document.querySelector('.post-content');
  const tocList = document.getElementById('toc-list');

  if (!content || !tocList) return;

  const headings = content.querySelectorAll('h1, h2, h3, h4');

  if (headings.length < 2) {
    document.getElementById('toc-container').style.display = 'none';
    return;
  }

  headings.forEach(function(heading, index) {
    // Add ID to heading if not exists
    if (!heading.id) {
      heading.id = 'heading-' + index;
    }

    const li = document.createElement('li');
    li.className = 'toc-' + heading.tagName.toLowerCase();

    const a = document.createElement('a');
    a.href = '#' + heading.id;
    a.textContent = heading.textContent;
    a.onclick = function(e) {
      e.preventDefault();
      heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
    };

    li.appendChild(a);
    tocList.appendChild(li);
  });

  // Active section highlighting
  const tocItems = tocList.querySelectorAll('li');

  function updateActiveToc() {
    const scrollPos = window.scrollY + 100;

    headings.forEach(function(heading, index) {
      const top = heading.offsetTop;
      const bottom = top + heading.offsetHeight;

      if (scrollPos >= top && scrollPos < bottom) {
        tocItems.forEach(function(item) {
          item.classList.remove('active');
        });
        if (tocItems[index]) {
          tocItems[index].classList.add('active');
        }
      }
    });
  }

  window.addEventListener('scroll', updateActiveToc);
  updateActiveToc();
});
</script>



      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2026
    <span class="footer-author">Wxx.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>
<span class="site-stats" style="display: block; margin-top: 8px; font-size: 0.85rem; color: #666;">
    Total Visits: <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> Â·
    Unique Visitors: <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span>
</span>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
