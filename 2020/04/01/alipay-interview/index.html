<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="王星星"><title>蚂蚁实习面试 · 王星星的魔灯</title><meta name="description" content="其实复盘完了之后发现蚂蚁金服项目也没有问的太深入，为什么我感觉挺坑呢淦，仔细想了一想可能是关于操作方面问的比较多把~。
蚂蚁这个三轮都过了，但是感觉不稳，拒了


一面Java1. Jvm的内存结构jar包和final static在哪
2. 双亲委派自己new一个java.lang.String有"><meta name="keywords" content="王星星的魔灯,博客,王星星"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><!-- 增加网站logo--><link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">王星星的魔灯</a></h3><div class="description"><p>勇士斗恶龙 <br> Love & Seriousness & Regularity & Persistence</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/wxxlamp"><i class="fa fa-github"></i></a></li><li><a href="mailto:wxxlamp@foxmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2305450070&amp;site=qq&amp;menu=yes"><i class="fa fa-qq"></i></a></li><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/coder_what"><i class="fa fa-mortar-board"></i></a></li></ul><div class="footer"><div class="p"><span>© 2018 - 2024</span><i class="fa fa-star"></i><span> 王星星</span><!--span.leancloud_visitors--></div><div class="by_farbox"><span>Powered by</span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo</a><span> &</span><a href="https://github.com/wxxlamp/anatole-core-wxx" target="_blank">Anatole-Wxx</a></div><div class="beian"><a href="http://www.beian.miit.gov.cn/" target="_blank">豫ICP备20004458号-1</a><span style="height:10px;margin-left: 10px;">|</span><img src="/images/gongan.png" style="height:10px;margin-left: 10px;position: relative;top: 1px;"><span style="margin-left: 2px;">豫公网安备 44030400004458号</span></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li><li><a href="/about">关于</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"></a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>蚂蚁实习面试</a></h3></div><div class="post-content"><p>其实复盘完了之后发现蚂蚁金服项目也没有问的太深入，为什么我感觉挺坑呢淦，仔细想了一想可能是关于操作方面问的比较多把~。</p>
<p>蚂蚁这个三轮都过了，但是感觉不稳，拒了</p>
<a id="more"></a>

<h2 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h2><h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><h4 id="1-Jvm的内存结构"><a href="#1-Jvm的内存结构" class="headerlink" title="1. Jvm的内存结构"></a>1. Jvm的内存结构</h4><p><strong>jar包和final static在哪</strong></p>
<h4 id="2-双亲委派"><a href="#2-双亲委派" class="headerlink" title="2. 双亲委派"></a>2. 双亲委派</h4><p>自己new一个<strong>java.lang.String</strong>有什么影响</p>
<p>如果是实现双亲委派模型的类加载则直接报错，如果自己的类加载器的话也会报错，因为Jvm规定了只能有Bootstrap加载java.*包</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/riemann_/article/details/87653648">自定义类加载器</a></p>
<h4 id="3-G1的优点"><a href="#3-G1的优点" class="headerlink" title="3. G1的优点"></a>3. G1的优点</h4><p>适合低延迟</p>
<h3 id="DB"><a href="#DB" class="headerlink" title="DB"></a>DB</h3><h4 id="4-MySQL的隔离级别"><a href="#4-MySQL的隔离级别" class="headerlink" title="4. MySQL的隔离级别"></a>4. MySQL的隔离级别</h4><p>RU,RC,RR,S</p>
<h4 id="5-Redis的sort-set"><a href="#5-Redis的sort-set" class="headerlink" title="5. Redis的sort set"></a>5. Redis的sort set</h4><p><strong>如何对set进行排序</strong></p>
<p>通过跳表</p>
<h4 id="set有什么操作"><a href="#set有什么操作" class="headerlink" title="set有什么操作"></a>set有什么操作</h4><h4 id="6-找出所有成绩大于80的学生SQL"><a href="#6-找出所有成绩大于80的学生SQL" class="headerlink" title="6. 找出所有成绩大于80的学生SQL"></a>6. 找出所有成绩大于80的学生SQL</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">id</span> <span class="keyword">having</span> <span class="keyword">min</span>(score) &gt; <span class="number">80</span></span><br></pre></td></tr></table></figure>

<h3 id="数据结构和算法"><a href="#数据结构和算法" class="headerlink" title="数据结构和算法"></a>数据结构和算法</h3><h4 id="7-数组和链表的区别"><a href="#7-数组和链表的区别" class="headerlink" title="7. 数组和链表的区别"></a>7. 数组和链表的区别</h4><h4 id="8-LeetCode只出现一次的数字"><a href="#8-LeetCode只出现一次的数字" class="headerlink" title="8. LeetCode只出现一次的数字"></a>8. LeetCode只出现一次的数字</h4><h3 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h3><h4 id="9-防止脚本秒杀的方案"><a href="#9-防止脚本秒杀的方案" class="headerlink" title="9. 防止脚本秒杀的方案"></a>9. 防止脚本秒杀的方案</h4><p>refer，动态锁，黑名单，xss，cxsf，https，动态url，开始前一分钟输入验证码</p>
<h4 id="10-如何增加TPS"><a href="#10-如何增加TPS" class="headerlink" title="10. 如何增加TPS"></a>10. 如何增加TPS</h4><h4 id="11-如何防止Redis的库存不能少于0"><a href="#11-如何防止Redis的库存不能少于0" class="headerlink" title="11. 如何防止Redis的库存不能少于0"></a>11. 如何防止Redis的库存不能少于0</h4><p>如何防止集群对Redis的并发操作：使用Redis的事物或者分布式锁</p>
<h4 id="12-如何实现分布式锁"><a href="#12-如何实现分布式锁" class="headerlink" title="12. 如何实现分布式锁"></a>12. 如何实现分布式锁</h4><p>使用redis和zookeeper实现</p>
<h4 id="13-Redis删锁过期怎么办"><a href="#13-Redis删锁过期怎么办" class="headerlink" title="13. Redis删锁过期怎么办"></a>13. Redis删锁过期怎么办</h4><p>不让它过期，可以定时发送心跳，如果业务还在执行就为锁加上时间</p>
<h4 id="14-Redis的IO模型"><a href="#14-Redis的IO模型" class="headerlink" title="14. Redis的IO模型"></a>14. Redis的IO模型</h4><h4 id="15-IO多路复用"><a href="#15-IO多路复用" class="headerlink" title="15. IO多路复用"></a>15. IO多路复用</h4><h4 id="16-Redis为什么单线程"><a href="#16-Redis为什么单线程" class="headerlink" title="16. Redis为什么单线程"></a>16. Redis为什么单线程</h4><h4 id="17-Redis有保证原子操作的机制吗"><a href="#17-Redis有保证原子操作的机制吗" class="headerlink" title="17. Redis有保证原子操作的机制吗"></a>17. Redis有保证原子操作的机制吗</h4><p>redis的事物操作（但是redis的事物应该是保证了隔离性和一致性，没有保证原子性）</p>
<h3 id="比赛"><a href="#比赛" class="headerlink" title="比赛"></a>比赛</h3><p>这是唯一一次面试问到比赛的，问了两个比赛获胜的原因</p>
<h4 id="星环"><a href="#星环" class="headerlink" title="星环"></a>星环</h4><ol>
<li>采用合适的时间预测模型，时间和人流关联，PPT，方案</li>
<li>强网杯</li>
</ol>
<h2 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h2><h3 id="Java-1"><a href="#Java-1" class="headerlink" title="Java"></a>Java</h3><h4 id="1-Java接触多久了"><a href="#1-Java接触多久了" class="headerlink" title="1. Java接触多久了"></a>1. Java接触多久了</h4><h4 id="2-生产者消费者模式的实现方式"><a href="#2-生产者消费者模式的实现方式" class="headerlink" title="2. 生产者消费者模式的实现方式"></a>2. 生产者消费者模式的实现方式</h4><h4 id="3-Condition和notify的区别"><a href="#3-Condition和notify的区别" class="headerlink" title="3. Condition和notify的区别"></a>3. Condition和notify的区别</h4><h4 id="4-ConcurrentHashMap的原理"><a href="#4-ConcurrentHashMap的原理" class="headerlink" title="4. ConcurrentHashMap的原理"></a>4. ConcurrentHashMap的原理</h4><h4 id="5-本地变量存在哪里"><a href="#5-本地变量存在哪里" class="headerlink" title="5. 本地变量存在哪里"></a>5. 本地变量存在哪里</h4><h4 id="6-volatile如何保证可见性"><a href="#6-volatile如何保证可见性" class="headerlink" title="6. volatile如何保证可见性"></a>6. volatile如何保证可见性</h4><h4 id="7-工作内存和主内存的存储方式"><a href="#7-工作内存和主内存的存储方式" class="headerlink" title="7. 工作内存和主内存的存储方式"></a>7. 工作内存和主内存的存储方式</h4><h4 id="8-JDK看过哪些源码"><a href="#8-JDK看过哪些源码" class="headerlink" title="8. JDK看过哪些源码"></a>8. JDK看过哪些源码</h4><h4 id="9-String类的char-编码方式"><a href="#9-String类的char-编码方式" class="headerlink" title="9. String类的char[]编码方式"></a>9. String类的char[]编码方式</h4><p>UTF-16</p>
<h3 id="DB-1"><a href="#DB-1" class="headerlink" title="DB"></a>DB</h3><h4 id="10-MySQL的存储结构"><a href="#10-MySQL的存储结构" class="headerlink" title="10. MySQL的存储结构"></a>10. MySQL的存储结构</h4><h4 id="11-B-树的优点"><a href="#11-B-树的优点" class="headerlink" title="11. B+树的优点"></a>11. B+树的优点</h4><h4 id="项目-1"><a href="#项目-1" class="headerlink" title="项目"></a>项目</h4><h4 id="12-数据库方面如何优化"><a href="#12-数据库方面如何优化" class="headerlink" title="12. 数据库方面如何优化"></a>12. 数据库方面如何优化</h4><h4 id="13-数据库如何保持不会超买"><a href="#13-数据库如何保持不会超买" class="headerlink" title="13. 数据库如何保持不会超买"></a>13. 数据库如何保持不会超买</h4><p>加锁和MQ</p>
<h4 id="14-集群如何并发操作单台Redis"><a href="#14-集群如何并发操作单台Redis" class="headerlink" title="14. 集群如何并发操作单台Redis"></a>14. 集群如何并发操作单台Redis</h4><p>利用redis的事物和单线程</p>
<h4 id="15-如何补库存"><a href="#15-如何补库存" class="headerlink" title="15. 如何补库存"></a>15. 如何补库存</h4><p>删Redis-补MySQL-删Redis</p>
<p><strong>两台Tomcat补库存后发生覆盖怎么办</strong></p>
<p>每台tomcat使用sync对删除和标记加锁</p>
<h2 id="三面"><a href="#三面" class="headerlink" title="三面"></a>三面</h2><p>支付宝是前天晚上9点半我在洗jio的时候电话打过来的，足以看出支付宝这边福报程度，P9大佬这个点还在加班，我吐。而且不预约是蚂蚁金服一贯的传统。这次面试应该也是过了，又面临着支付宝和阿里金融两难的选择境地。</p>
<h4 id="1-项目中为什么要用Nginx"><a href="#1-项目中为什么要用Nginx" class="headerlink" title="1. 项目中为什么要用Nginx"></a>1. 项目中为什么要用Nginx</h4><p>用nginx做反向代理和负责均衡</p>
<h4 id="2-Nginx为什么可以做负载均衡"><a href="#2-Nginx为什么可以做负载均衡" class="headerlink" title="2. Nginx为什么可以做负载均衡"></a>2. Nginx为什么可以做负载均衡</h4><p>一般来说公网延迟高，客户端与nginx之间的请求连接走公网，nginx先把这些请求缓存住，等这些请求数据全部完成之后nginx再向内网服务器请求，降低公网网络延迟成本，同时也降低一个连接占用服务端程序的时间。</p>
<p>因为tcp不一定一次就能把全部数据传输完毕，所以一个连接可能需要等待很久才能把所有需要的数据都传输完毕，而这样的空闲连接如果都直接连接到服务器上的话，会加重服务器负担，而nginx在这方面做了很大的优化，可以承载更多的连接，空闲连接也不会占据太多内存，所以nginx作为反向代理能降低上游服务器的负载。<br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19761434">Nginx提升网站性能的原因</a></p>
<p>Nginx比tomcat好在哪里？</p>
<p>主要有三个技术方面，<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lcngu/p/5309101.html">master-worker进程模型</a>，nio，协程机制</p>
<h4 id="3-正向代理和反向代理"><a href="#3-正向代理和反向代理" class="headerlink" title="3. 正向代理和反向代理"></a>3. 正向代理和反向代理</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/24723688">正向代理隐藏真实客户端，反向代理隐藏真实服务端。</a></p>
<p>我们常说的反向代理其实也就是在tomcat后面做集群的时候，nginx隐藏了服务端的集群，这便是反向代理</p>
<p>而正向代理其实就是nginx向后台服务器隐藏了client端的browser，app，h5等等的请求，这便是正向代理</p>
<h4 id="4-两阶段提交"><a href="#4-两阶段提交" class="headerlink" title="4. 两阶段提交"></a>4. 两阶段提交</h4><h4 id="5-4个任务，线程池参数为2-2-4，如何执行"><a href="#5-4个任务，线程池参数为2-2-4，如何执行" class="headerlink" title="5. 4个任务，线程池参数为2,2,4，如何执行"></a>5. 4个任务，线程池参数为2,2,4，如何执行</h4></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-04-01</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Java/" title="Java">Java </a><a class="tag" href="/tags/Internships/" title="Internships">Internships </a><i class="fa fa-star"></i><a class="tag" href="/categories/面试经验/" title="面试经验">面试经验 </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://wxxlamp.cn/2020/04/01/alipay-interview/,王星星的魔灯,蚂蚁实习面试,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2020/04/03/ali-finance-interview/" title="阿里企业金融实习面试">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/03/15/taobao-interview/" title="淘宝实习面试">下一篇</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@latest/dist/Valine.min.js"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:false || false,
  verify:false|| false,
  app_id:'VzGOJC7bFNXeYUEicbM4nOT2-gzGzoHsz',
  app_key:'T3VwGNzVqiWepoUHUQMnh8tP',
  placeholder:'念念不忘，必有回响...',
  path: window.location.pathname,
  serverURLs: '',
  visitor:true,
  recordIP:true,
  avatar:'mp'
})</script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script></body></html>